namespace = cso_human

country_event = {
	id = cso_human.10
	hide_window = yes
    is_triggered_only = yes
	fire_only_once = yes

	immediate = {
        country_event = { id = cso_human.100 }
        country_event = { id = cso_human.200 }
    }
}

# Connects Sol and Deneb's neighbor with wormhole 
country_event = {
	id = cso_human.100
	hide_window = yes
	fire_only_once = yes
    is_triggered_only = yes

	trigger = {
		any_system = { has_star_flag = sol_system }
		any_system = { has_star_flag = deneb_system }
	}

	immediate = {
    	random_system = {
			limit = { 
				has_star_flag = deneb_system
            }
			
			random_system = {
				limit = { 
					has_natural_wormhole = no
					distance = {
						source = prev
						use_bypasses = no
						min_jumps >= 2
						max_jumps <= 3
					}
				}

				random_system = {
					limit = { 
						has_star_flag = sol_system
					}

					prev = {
							spawn_natural_wormhole = {
							bypass_type = wormhole
							random_pos = yes
							orbit_angle = 360
						}
					}
					
					spawn_natural_wormhole = {
						bypass_type = wormhole
						random_pos = yes
						orbit_angle = 360
					}

					link_wormholes = prev
				}
			}
		}
	}
}

# Advanced start trigger for UNE if there is colony
country_event = {
	id = cso_human.200
	hide_window = yes
    is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_system = { has_star_flag = sol_system }
		any_system = { has_star_flag = deneb_system }
	}

	immediate = {
    	random_system = {
			limit = { 
				has_star_flag = sol_system
			}
			owner = {
				# Scope to UNE via sol
				country_event = {id = cso_advanced.100 }
			}
		}
	}
}